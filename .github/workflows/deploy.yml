name: Deploy to server

on: push

jobs: 
    first_job:
        runs-on: ubuntu-latest
        env:
            NAME: CodigoFacilito
        outputs: 
          
          salida: ${{steps.step_1.outputs.my_var}}

        steps:
            - name: Working dir
              id: step_1
              run: echo "my_var=Hello" >> $GITHUB_OUTPUT
            - name: Obtener mensaje
              run: echo "${{ steps.step_1.outputs.my_var}}"
            
    second_job:
        if: ${{ github.ref == 'refs/heads/main'}}
        needs: first_job
        runs-on: ubuntu-latest

        env: 
          SALIDA: ${{ needs.first_job.outputs.salida}}

        steps:
            - name: Hola mundo
              run: echo "$SALIDA"